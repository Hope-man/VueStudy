# 字符串和正则表达式

感觉这一节字符串部分主要是介绍了一下es6的unicode支持。

## 字符串 Unicode支持

### utf-16码位：

  它是一种可变长度格式，它的每个码位能够使用 1 位或者 2 位 16字节编码单元来表示。这种方式能够编码的码位在 0 到 0x10FFFF 之间。

### 代理对：

  实际上就是指上面的一个 UTF-16 编码，使用 2 个 16 字节来编码。那是因为一个 UTF-16 编码不够，然后就应该使用 2 个 UTF-16 编码来表示更多的字符。然后这样就会出现：之前 2 个字节的空间表示一个字符，就会变成 4 个字节的空间。所以就规定只有一定范围内使用 2 个 UTF-16 编码来表示一个字符，这样的方式就叫代理对，其余的依然使用 2 个字节来表示。

* codePointAt()：
  * 该方法支持UTF-16，接受编码单元的位置而非字符串位置作为参数，返回与字符串中给定位置对应的码位，即一个整数值。

* String.fromCodePoiont()：
  * 作用与codePointAt相反，检索字符串中某个字符的码位，也可以根据指定的码位生成一个字符。

* normalize()：
  * 提供Unicode的标准形式，接受一个可选的字符串参数，指明应用某种Unicode标准形式。

```javascript
//简单例子：
let text = "吉"
console.log(text.length)  
//  2 中文占了两个字符位，因此长度为2
console.log(/^3$/.test(text))
//  false text在这里是两个字符，因此无法被单个字符的匹配正则表达式匹配
console.log(text.charAt(0))
//  "" text是用代理对表示的，因此单独的前后两个编码单元都不表示任何可打印字符
console.log(text.charCodeAt(0))
//  55362   只显示当前编码单元的值
console.log(text.codePointAt(0))
//  134071  codepointat会返回完整的码位，即使这个码位包含多个编码单元
console.log(String.fromCodePoiont(134071))
//  "吉"
```

## 正则




上一章：[块级作用域绑定](https://github.com/LinStan/VueStudy/tree/master/读书笔记/深入理解ES6/第一章：块级作用域绑定.md)

下一章：[函数](https://github.com/LinStan/VueStudy/tree/master/读书笔记/深入理解ES6/第三章：函数.md)